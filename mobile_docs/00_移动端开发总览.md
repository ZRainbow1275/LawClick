# 律时移动端开发总览

> **版本**: 1.0  
> **创建日期**: 2026-01-01  
> **状态**: 规划阶段

---

## 一、项目定位与目标

### 1.1 产品定位

律时移动端是 LegalMind 法律生态核心工作系统的**移动延伸**，定位为：

- **律师随身工作站**：支持律师随时随地处理案件、记录工时、管理日程
- **客户沟通桥梁**：提供律师-客户实时沟通、项目进展查看、文档共享
- **AI 赋能工具**：整合语音转文字、智能填写、法律助手等 AI 能力

### 1.2 核心目标

| 目标 | 描述 | 验收标准 |
|------|------|----------|
| **效率提升** | 移动办公效率不低于 Web 端 80% | 核心流程操作步骤 ≤ Web 端 |
| **体验一致** | 遵循 LegalMind 设计语言规范 | UI 组件复用率 ≥ 90% |
| **数据同步** | 多端数据实时同步 | 数据延迟 < 3 秒 |
| **离线可用** | 关键功能支持离线使用 | 离线可完成工时记录/任务更新 |

---

## 二、技术栈确认

### 2.1 核心框架

根据 `docs/技术栈文档.md` 明确指定：

| 层级 | 技术选型 | 版本 |
|------|----------|------|
| **核心框架** | Flutter | 3.16.5+ |
| **编程语言** | Dart | 3.2.3+ |
| **状态管理** | Riverpod | 2.4.9 |
| **路由管理** | Go Router | 12.1.3 |
| **网络请求** | Dio + Retrofit | 5.4.0 / 4.0.3 |
| **本地存储** | Hive + Shared Preferences | 2.2.3 / 2.2.2 |

### 2.2 与 Web 端技术对应关系

```
Web 端                         移动端
────────────────────────────────────────────────
Next.js App Router     ←→      Go Router (Flutter)
Zustand                ←→      Riverpod
TanStack Query         ←→      Riverpod + Dio
Radix UI + Tailwind    ←→      Flutter Material 3 + 自定义组件
```

---

## 三、文档索引

本目录包含以下设计文档：

| 文档 | 说明 | 状态 |
|------|------|------|
| [01_技术架构设计.md](./01_技术架构设计.md) | Flutter 项目架构、目录结构、依赖管理 | 📝 编写中 |
| [02_功能模块设计.md](./02_功能模块设计.md) | 按优先级划分的功能模块详细设计 | 📝 编写中 |
| [03_API对接策略.md](./03_API对接策略.md) | 与 Web 端后端的交互策略、认证方案 | 📝 编写中 |
| [04_UI设计适配规范.md](./04_UI设计适配规范.md) | LegalMind 设计语言在移动端的适配 | 📝 编写中 |
| [05_离线与同步策略.md](./05_离线与同步策略.md) | 离线数据存储、冲突解决、同步机制 | 📝 编写中 |
| [06_推送与通知设计.md](./06_推送与通知设计.md) | 推送服务集成、通知分类与处理 | 📝 编写中 |

---

## 四、开发阶段规划

### Phase 1: 核心基础 (MVP)

**目标**：实现最小可用产品，覆盖律师日常高频操作

- 登录认证（与 Web 端 NextAuth 对接）
- 案件列表与详情查看
- 工时记录（含语音输入）
- 任务看板（Kanban）
- 日程日历查看

### Phase 2: 协作增强

**目标**：补齐协作与沟通能力

- 团队聊天（与 Web 端 Chat 模块对接）
- 通知中心
- 文档查看与上传
- 审批流程

### Phase 3: AI 赋能

**目标**：整合 AI 能力，提升效率

- AI 语音转文字（工时记录增强）
- 合同 OCR 识别
- 法律助手对话
- 智能搜索

### Phase 4: 高级功能

**目标**：完善生态，对标 Web 端

- 仪表盘 Widget
- 财务报表
- 客户管理
- 系统设置

---

## 五、关键技术决策

### 5.1 后端交互方式

根据 `docs/API接口文档.md`：

> Web 主线不使用 `/api/v1/*` REST 体系；业务读写以 **Server Actions** 为真源。

**移动端策略**：

1. **新建 RESTful API 层**：基于 Rust (Axum) 后端，为移动端提供标准化 REST API
2. **共享数据库**：与 `lawclick-next` 共享同一个 PostgreSQL
3. **认证兼容**：
   - 移动端使用 JWT 认证
   - Rust 后端已支持解密 NextAuth 会话，可实现"扫码登录"等跨端能力

### 5.2 设计语言适配

遵循 `docs/LegalMind设计语言规范.md`：

- **品牌主色**：`#FF6B35` (LegalMind 橙)
- **字体栈**：Inter / PingFang SC / 系统默认
- **圆角规范**：lg = 12px
- **动效哲学**：自然流畅，200-500ms

### 5.3 权限与安全

对齐 Web 端硬性规则：

> 权限必须在后端强制校验；UI 只做展示兜底

- 所有敏感操作在 Rust API 层校验权限
- 移动端 Token 安全存储（Keychain / Keystore）
- 支持生物识别解锁

---

## 六、下一步行动

1. **完善各分文档**：根据本总览，逐一编写详细设计文档
2. **用户评审**：提交整体规划方案进行审核
3. **技术验证**：创建 Flutter 工程原型，验证关键技术可行性
4. **API 规划**：与 Rust 后端协调，确定移动端 API 接口

---

**文档维护**：本文档将随项目进展持续更新
