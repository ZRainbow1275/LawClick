@import "tailwindcss";
@import "../styles/theme.css";
@import "../styles/animations.css";
@import "../styles/components.css";
@import "../styles/utilities.css";
@import "react-grid-layout/css/styles.css";
@import "react-resizable/css/styles.css";

@plugin "tailwindcss-animate";

@theme {
  /* LegalMind Brand Colors - 更鲜艳的橙色系 */
  --color-primary: #FF6B35;
  --color-primary-foreground: #FFFFFF;
  --color-primary-50: #FFF4F1;
  --color-primary-100: #FFE6DC;
  --color-primary-200: #FFCCB8;
  --color-primary-300: #FFB394;
  --color-primary-400: #FF9970;
  --color-primary-500: #FF6B35;
  --color-primary-600: #E55A2B;
  --color-primary-700: #CC4A1F;
  --color-primary-800: #B23A13;
  --color-primary-900: #992A07;

  /* Neutral Colors - 更丰富的灰色系 */
  --color-background: #F8F9FA;
  --color-foreground: #1A1A1A;
  --color-muted: #F1F3F4;
  --color-muted-foreground: #5B636B;
  --color-card: #F1F3F4;
  --color-card-foreground: #1A1A1A;
  --color-popover: #FFFFFF;
  --color-popover-foreground: #1A1A1A;
  --color-border: #E9ECEF;
  --color-input: #F8F9FA;
  --color-ring: var(--color-primary);

  /* Sidebar tokens（对齐 docs/LegalMind设计语言规范.md 与 docs/设计语言文档.md） */
  --color-sidebar: #F8FAFC;
  --color-sidebar-foreground: #0F172A;
  --color-sidebar-accent: rgb(var(--lc-primary-rgb) / 0.10);
  --color-sidebar-accent-foreground: #0F172A;
  --color-sidebar-border: #E9ECEF;
  --color-sidebar-ring: var(--color-primary);

  /* Functional Colors - 更鲜明的功能色 */
  --color-success: #28A745;
  --color-success-foreground: #FFFFFF;
  --color-warning: #FFC107;
  --color-warning-foreground: #1A1A1A;
  --color-destructive: #DC3545;
  --color-destructive-foreground: #FFFFFF;
  --color-info: #17A2B8;
  --color-info-foreground: #FFFFFF;

  /* Accent Colors */
  --color-accent: #F1F3F4;
  --color-accent-foreground: #1A1A1A;
  --color-secondary: #5B636B;
  --color-secondary-foreground: #FFFFFF;

  /* Chart colors - 更鲜艳的图表色 */
  --color-chart-1: #FF6B35;
  --color-chart-2: #17A2B8;
  --color-chart-3: #28A745;
  --color-chart-4: #FFC107;
  --color-chart-5: #DC3545;

  /* Radius */
  --radius: 0.75rem;

  /* Shadows */
  --shadow-brand: 0 4px 12px rgb(var(--lc-primary-rgb) / 0.15);
  --shadow-brand-lg: 0 8px 24px rgb(var(--lc-primary-rgb) / 0.2);
  --shadow-card: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-card-hover: 0 4px 16px rgba(0, 0, 0, 0.12);
}

@layer base {
  * {
    border-color: var(--color-border);
  }

  :root {
    --lc-space-1: 0.25rem; /* 4px */
    --lc-space-2: 0.5rem; /* 8px */
    --lc-space-3: 1rem; /* 16px */
    --lc-space-4: 1.5rem; /* 24px */
    --lc-space-5: 2rem; /* 32px */
    --lc-space-6: 3rem; /* 48px */

    /* Layout density defaults (comfortable) */
    --lc-page-padding: var(--lc-space-4);
    --lc-card-padding: var(--lc-space-4);
    --lc-stack-gap: var(--lc-space-4);

    /* Control sizing */
    --lc-control-height-sm: 2rem; /* 32px */
    --lc-control-height: 2.25rem; /* 36px */
    --lc-control-height-lg: 3rem; /* 48px */

    /* Layout tokens (DESIGN_HANDBOOK) */
    --lc-sidebar-width: 17.5rem; /* 280px */
    --lc-sidebar-width-mobile: 18rem; /* 288px */
    --lc-sidebar-width-icon: 3rem; /* 48px */
    --lc-header-height: 3.75rem; /* 60px */

    /* Accessibility */
    --lc-focus-outline-width: 2px;
  }

  :root[data-density="compact"],
  [data-density="compact"] {
    --lc-page-padding: var(--lc-space-3);
    --lc-card-padding: var(--lc-space-3);
    --lc-stack-gap: var(--lc-space-3);
    --lc-control-height-sm: 1.75rem; /* 28px */
    --lc-control-height: 2rem; /* 32px */
    --lc-control-height-lg: 2.75rem; /* 44px */
  }

  :root[data-accent="blue"],
  [data-accent="blue"] {
    --color-primary: #2563EB;
    --color-primary-foreground: #FFFFFF;
    --color-primary-50: #EFF6FF;
    --color-primary-100: #DBEAFE;
    --color-primary-200: #BFDBFE;
    --color-primary-300: #93C5FD;
    --color-primary-400: #60A5FA;
    --color-primary-500: #3B82F6;
    --color-primary-600: #2563EB;
    --color-primary-700: #1D4ED8;
    --color-primary-800: #1E40AF;
    --color-primary-900: #1E3A8A;
    --color-ring: var(--color-primary);
    --color-chart-1: #3B82F6;

    --lc-primary-rgb: 37 99 235;
  }

  :root[data-accent="slate"],
  [data-accent="slate"] {
    --color-primary: #334155;
    --color-primary-foreground: #FFFFFF;
    --color-primary-50: #F8FAFC;
    --color-primary-100: #F1F5F9;
    --color-primary-200: #E2E8F0;
    --color-primary-300: #CBD5E1;
    --color-primary-400: #94A3B8;
    --color-primary-500: #334155;
    --color-primary-600: #1E293B;
    --color-primary-700: #0F172A;
    --color-primary-800: #020617;
    --color-primary-900: #020617;
    --color-ring: #334155;
    --color-chart-1: #334155;

    --lc-primary-rgb: 51 65 85;
  }

  /* 暗色模式（对齐 docs/LegalMind设计语言规范.md） */
  :root.dark {
    color-scheme: dark;

    --color-background: hsl(0 0% 10%);
    --color-foreground: hsl(0 0% 98%);
    --color-card: hsl(0 0% 15%);
    --color-card-foreground: hsl(0 0% 98%);
    --color-muted: hsl(0 0% 20%);
    --color-muted-foreground: hsl(0 0% 65%);
    --color-accent: hsl(0 0% 20%);
    --color-accent-foreground: hsl(0 0% 98%);
    --color-secondary: hsl(0 0% 25%);
    --color-secondary-foreground: hsl(0 0% 98%);
    --color-border: hsl(0 0% 25%);
    --color-input: hsl(0 0% 20%);
    --color-popover: hsl(0 0% 15%);
    --color-popover-foreground: hsl(0 0% 98%);

    --color-sidebar: hsl(0 0% 12%);
    --color-sidebar-foreground: hsl(0 0% 98%);
    --color-sidebar-accent: hsl(0 0% 20%);
    --color-sidebar-accent-foreground: hsl(0 0% 98%);
    --color-sidebar-border: hsl(0 0% 25%);
  }

  :root:not(.dark)[data-contrast="high"],
  :root:not(.dark) [data-contrast="high"] {
    --color-muted-foreground: #343A40;
    --color-border: #212529;
    --color-input: #FFFFFF;
    --lc-focus-outline-width: 3px;
  }

  :root.dark[data-contrast="high"],
  :root.dark [data-contrast="high"] {
    --color-muted-foreground: hsl(0 0% 80%);
    --color-border: hsl(0 0% 60%);
    --color-input: hsl(0 0% 15%);
    --lc-focus-outline-width: 3px;
  }

  @media (prefers-contrast: high) {
    :root:not(.dark)[data-contrast="system"],
    :root:not(.dark) [data-contrast="system"] {
      --color-muted-foreground: #343A40;
      --color-border: #212529;
      --color-input: #FFFFFF;
      --lc-focus-outline-width: 3px;
    }

    :root.dark[data-contrast="system"],
    :root.dark [data-contrast="system"] {
      --color-muted-foreground: hsl(0 0% 80%);
      --color-border: hsl(0 0% 60%);
      --color-input: hsl(0 0% 15%);
      --lc-focus-outline-width: 3px;
    }
  }

  @media (min-width: 1024px) {
    :root {
      --lc-page-padding: var(--lc-space-5);
    }

    :root[data-density="compact"],
    [data-density="compact"] {
      --lc-page-padding: var(--lc-space-4);
    }
  }

  :where(a, button, input, textarea, select, summary, [role="button"], [tabindex]) {
    transition-property: background-color, border-color, color, box-shadow, transform, opacity;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  :where(a, button, input, textarea, select, summary, [role="button"], [tabindex]):focus-visible {
    outline: var(--lc-focus-outline-width) solid var(--color-primary);
    outline-offset: 2px;
  }

  ::selection {
    background-color: var(--color-primary);
    color: var(--color-primary-foreground);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-foreground);
    font-family: 'Inter', 'PingFang SC', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
    font-feature-settings: "rlig" 1, "calt" 1;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  @media (prefers-reduced-motion: reduce) {
    :where(*, *::before, *::after) {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}
